const e={switchThemeColor:function([e,t,n]){document.documentElement.style.setProperty("--r",e),document.documentElement.style.setProperty("--g",t),document.documentElement.style.setProperty("--b",n),document.documentElement.style.setProperty("--second",.299*e+.587*t+.114*n>=192?"#000":"#FFF"),document.documentElement.style.setProperty("--cover-text",.299*e+.587*t+.114*n>=192?"#4C4948":"#EEE")},getMainColor:function(e="#1677B3"){let t=[parseInt("0x"+e.slice(1,3)),parseInt("0x"+e.slice(3,5)),parseInt("0x"+e.slice(5,7))];if(document.getElementById("post-cover-img"))try{t=(new ColorThief).getColor(document.getElementById("post-cover-img"))}catch(n){console.log(n)}return t},switchMainColor:function(){let e=[];for(let t=0;t<=20;t++)for(let n=0;n<=20;n++)for(let o=0;o<=20;o++)e.push(`rgb(${t},${n},${o})`),e.push(`rgb(${255-t},${255-n},${255-o})`);if(document.getElementById("post-cover-img"))RGBaster.colors(document.getElementById("post-cover-img"),{paletteSize:30,exclude:e,success:function(e){let[t,n,o]=e.dominant.match(/\d+/g);document.documentElement.style.setProperty("--r",t),document.documentElement.style.setProperty("--g",n),document.documentElement.style.setProperty("--b",o),document.documentElement.style.setProperty("--second",.299*t+.587*n+.114*o>=192?"#000":"#FFF"),document.documentElement.style.setProperty("--cover-text",.299*t+.587*n+.114*o>=192?"#4C4948":"#EEE")}});else{let e="#1677B3",[t,n,o]=[parseInt("0x"+e.slice(1,3)),parseInt("0x"+e.slice(3,5)),parseInt("0x"+e.slice(5,7))];document.documentElement.style.setProperty("--r",t),document.documentElement.style.setProperty("--g",n),document.documentElement.style.setProperty("--b",o),document.documentElement.style.setProperty("--second",.299*t+.587*n+.114*o>=192?"#000":"#FFF"),document.documentElement.style.setProperty("--cover-text",.299*t+.587*n+.114*o>=192?"#4C4948":"#EEE")}},switchPageTitle:function(){document.getElementById("page-title").style.display="/"===window.location.pathname||/^\/page\/[0-9]+\//.test(window.location.pathname)?"none":"flex",document.querySelector("#page-title>span").innerHTML=GLOBAL_CONFIG_SITE.title},footerRandomFlink:function(e,t=3){let n=document.querySelectorAll("#footer-group-flink .footer-group-item");if(e&&n.length>0){let o=e;if(e.length>t){let n=new Set;for(;n.size<t;)n.add(e[Math.floor(Math.random()*e.length)]);o=Array.from(n)}for(let e=0;e<o.length;e++)n[e].href=o[e].link,n[e].innerText=o[e].name}},postAddToc:function(){let e=document.querySelector("#post>#article-container.post-content"),t=document.getElementById("card-toc");if(e&&t){let e=t.getElementsByClassName("toc-number"),n=t.getElementsByClassName("toc-link");for(let t=0;t<n.length;t++)document.getElementById(decodeURIComponent(n[t].attributes.href.value).slice(1)).dataset.toc=e[t].innerText}},catalogActive:function(){let e=document.getElementById("catalog-list");if(e){e.addEventListener("mousewheel",(function(t){e.scrollLeft-=t.wheelDelta/2,t.preventDefault()}),!1);let t=decodeURIComponent(window.location.pathname).replace(/page\/[0-9]+\//g,""),n=document.getElementById(t);n?.classList.add("selected"),document.getElementById(t.slice(1))?.classList.add("selected"),e.scrollLeft=n.offsetLeft-e.offsetLeft-(e.offsetWidth-n.offsetWidth)/2}},switchCommentBarrage:function(){let e=window.localStorage.getItem("commentBarrageDisplay");document.getElementById("comment-barrage").style.bottom="false"===e?"1rem":"-1000px",window.localStorage.setItem("commentBarrageDisplay","false"===e?"undefined":"false",864e5),document.getElementById("menu-barrage")&&(document.querySelector("#menu-barrage>span").innerHTML="false"===e?"隐藏热评":"显示热评"),document.getElementById("barrage-btn")&&("false"===e?document.getElementById("barrage-btn").classList.add("on"):document.getElementById("barrage-btn").classList.remove("on"))},switchRightSide:function(){document.getElementById("rightside")?.classList.toggle("hidden"),document.getElementById("rightside-mask")?.classList.toggle("hidden")},fullScreen:function(){try{let e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}catch(e){console.log(e)}},exitFullScreen:function(){try{document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}catch(e){console.log(e)}},toPage:function(){let e=document.querySelectorAll(".page-number"),t=Math.min(Math.max(1,Number(document.getElementById("toPageText").value)),Number(e[e.length-1].innerHTML)),n=window.location.href.replace(/page\/[0-9]+\//g,"")+(1===t?"":"page/"+t+"/");window.pjax?pjax.loadUrl(n):window.open(n,"_self")},listenToPageInputPress:function(){let t=document.getElementById("toPageText"),n=document.getElementById("toPageButton"),o=document.querySelectorAll(".page-number");t&&(t.addEventListener("keydown",(t=>{13===t.keyCode&&e.toPage()})),t.addEventListener("input",(function(){t.value&&0!==Number(t.value)?(n.classList.add("haveValue"),t.value=Math.min(Math.max(1,Number(document.getElementById("toPageText").value)),Number(o[o.length-1].innerHTML))):n.classList.remove("haveValue")})))}};